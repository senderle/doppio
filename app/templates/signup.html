<!DOCTYPE html>
<html>
  <head>
    <script src="{{ url_for('static', filename='js/functions.js') }}"></script>
    <script src="{{ url_for('static', filename='js/signup.js') }}"></script>
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/style.css') }}">
<title>Sign Up</title>
  </head>
  <body class="main">

    <div id = "navbar">                                                 
        <ul>                                                            
            <div>                                                       
            <li><a class="nav-link current" href="/home">Home</a></li>  
            <li><a class="nav-link" href="/search">Search</a></li>      
            <li><a class="nav-link" href="/projection">Projection</a></li>
            <!-- <li><a class="nav-link" id="mapping">Map</a></li> -->  
            <div id="login">                                            
            <li><a class="nav-link login" href="/login">Login</a></li>  
            </div>                                                      
            <div id="logout">                                           
            <li><a class="nav-link" href='/home' onclick='logout();'>Log Out</a></li>
            </div>                                                      
            </div>                                                      
            <div id="signup" style="position: absolute;right:50px;">    
            <li><a style="font-size: 12px" class="nav-link" href="/signup">Add New User</a></li>
            </div>                                                      
            <script type="text/javascript">                             
                function logout() {                                     
                    let url = '/tokens';                                
                    let headers = new Headers();                        
                    headers.append('Content-Type', 'application/json'); 
                    headers.append('X-Custom-Header', 'ProcessThisImmediately');
                    headers.append('If-Match', localStorage._etag);     
                    fetch(url, {method:'DELETE',                        
                    headers: headers,                                   
                    })                                                  
                    .catch(error => console.error('There has been a problem with your fetch operation: ', error.message));
                    localStorage.removeItem("token");                   
                    localStorage.removeItem("_etag");                   
                }                                                       
            </script>                                                   
        </ul>                                                           
    </div>                                                    

    <div id="auth-window"><h2>Create a new account</h2>
        <p id="flash-text" value=""></p>
        <div id="userid-window">
          <div class="ui-element"><h4>Username:</h4><input type="text" title="Enter username" id="username" placeholder="username" /></div>
          <div class="ui-element"><h4>Password:</h4><input type="password" title="Enter password" id="password" placeholder="password" /></div>
          <div class="ui-element"><h4>Confirm Password:</h4><input type="password" title="Enter password" id="confirm_password" placeholder="confirm password" /></div>
        <div class="ui-element"><input type="button" id="signup-button" value="Sign Up &raquo;" /></div>

  </body>
</html>
